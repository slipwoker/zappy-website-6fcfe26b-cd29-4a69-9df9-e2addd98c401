function hasConsentFor(e){return void 0!==window.CookieConsent&&window.CookieConsent.validConsent(e)}function withConsent(e,t){hasConsentFor(e)?t():console.log(`[WARNING] Skipping ${e} code - no user consent`)}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle, .hamburger, [data-mobile-toggle]"),t=document.querySelector(".mobile-menu, .nav-menu, [data-mobile-menu]");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("menu-open")}),document.addEventListener("click",function(o){t.contains(o.target)||e.contains(o.target)||(t.classList.remove("active"),e.classList.remove("active"),document.body.classList.remove("menu-open"))})),document.addEventListener("click",function(o){const n=o.target.closest('a[href^="#"]');if(n&&"#"!==n.getAttribute("href")){o.preventDefault();const a=n.getAttribute("href"),s=document.querySelector(a);s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),t&&t.classList.remove("active"),e&&e.classList.remove("active"),document.body.classList.remove("menu-open"))}});const o=document.querySelector(".navbar, nav, header");let n=0;o&&window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>50?o.classList.add("scrolled"):o.classList.remove("scrolled"),n=e});const a=document.querySelector(".contact-form");function s(e,t){const o=document.createElement("div");o.className="error-message",o.textContent=t,o.style.color="#e74c3c",o.style.fontSize="0.875rem",o.style.marginTop="0.25rem",e.parentNode&&e.parentNode.insertBefore(o,e.nextSibling)}a&&(a.addEventListener("submit",function(e){e.preventDefault();let t=!0;a.querySelectorAll(".error-message").forEach(function(e){e.remove()});a.querySelectorAll("input, textarea, select").forEach(function(e){e.classList.remove("error")});a.querySelectorAll("[required]").forEach(function(e){e.value.trim()||(t=!1,e.classList.add("error"),s(e,"This field is required"))});const o=a.querySelector('input[type="email"]');if(o&&o.value.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value.trim())||(t=!1,o.classList.add("error"),s(o,"Please enter a valid email address"))}const n=a.querySelector('input[type="tel"]');if(n&&n.value.trim()&&n.hasAttribute("required")){(!/^[\d\s\-\+\(\)]+$/.test(n.value.trim())||n.value.trim().length<10)&&(t=!1,n.classList.add("error"),s(n,"Please enter a valid phone number"))}if(t){const e=a.querySelector('button[type="submit"], input[type="submit"]');if(e){const t=e.textContent||e.value;e.disabled=!0,e.textContent="Sending...",setTimeout(function(){e.disabled=!1,e.textContent=t,a.reset(),function(e){const t=document.createElement("div");t.className="success-message",t.textContent="Thank you! Your message has been sent successfully.",t.style.color="#27ae60",t.style.padding="1rem",t.style.marginTop="1rem",t.style.backgroundColor="#d4edda",t.style.borderRadius="4px",e.appendChild(t),setTimeout(function(){t.remove()},5e3)}(a)},1e3)}}}),a.addEventListener("blur",function(e){"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||function(e){const t=e.parentNode.querySelector(".error-message");t&&t.remove();if(e.classList.remove("error"),e.hasAttribute("required")&&!e.value.trim())return e.classList.add("error"),s(e,"This field is required"),!1;if("email"===e.type&&e.value.trim()){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim()))return e.classList.add("error"),s(e,"Please enter a valid email address"),!1}}(e.target)},!0));const i=document.querySelectorAll(".fade-in, [data-animate], .animate-on-scroll"),r=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("animated","visible"),e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});i.forEach(function(e){e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",r.observe(e)})}),function(){"use strict";let e=0;function t(){if(e++,void 0===window.CookieConsent)return void(e<50&&setTimeout(t,100));const o=window.CookieConsent;try{o.run({autoShow:!0,mode:"opt-in",revision:0,categories:{necessary:{enabled:!0,readOnly:!0},analytics:{enabled:!1,readOnly:!1,autoClear:{cookies:[{name:"_ga"},{name:"_ga_*"},{name:"_gid"},{name:"_gat"}]}},marketing:{enabled:!1,readOnly:!1,autoClear:{cookies:[{name:"_fbp"},{name:"_fbc"},{name:"fr"}]}}},language:{default:"he",translations:{he:{consentModal:{title:"×× ×—× ×• ××©×ª××©×™× ×‘×¢×•×’×™×•×ª ğŸª",description:"×¨×•×— ×‘×’×œ×™× ××©×ª××© ×‘×¢×•×’×™×•×ª ×›×“×™ ×œ×©×¤×¨ ××ª ×”×—×•×•×™×” ×©×œ×š, ×œ× ×ª×— ×©×™××•×© ×‘××ª×¨ ×•×œ×¡×™×™×¢ ×‘××××¦×™ ×”×©×™×•×•×§ ×©×œ× ×•.",acceptAllBtn:"××©×¨ ×”×›×œ",acceptNecessaryBtn:"×¨×§ ×”×›×¨×—×™",showPreferencesBtn:"× ×”×œ ×”×¢×“×¤×•×ª",footer:'<a href="#privacy-policy">××“×™× ×™×•×ª ×¤×¨×˜×™×•×ª</a> | <a href="#terms-conditions">×ª× ××™ ×©×™××•×©</a>'},preferencesModal:{title:"×”×¢×“×¤×•×ª ×¢×•×’×™×•×ª",acceptAllBtn:"××©×¨ ×”×›×œ",acceptNecessaryBtn:"×¨×§ ×”×›×¨×—×™",savePreferencesBtn:"×©××•×¨ ×”×¢×“×¤×•×ª",closeIconLabel:"×¡×’×•×¨",sections:[{title:"×¢×•×’×™×•×ª ×—×™×•× ×™×•×ª",description:"×¢×•×’×™×•×ª ××œ×” ×”×›×¨×—×™×•×ª ×œ×ª×¤×§×•×“ ×”××ª×¨ ×•×œ× × ×™×ª×Ÿ ×œ×”×©×‘×™×ª ××•×ª×Ÿ.",linkedCategory:"necessary"},{title:"×¢×•×’×™×•×ª × ×™×ª×•×—",description:"×¢×•×’×™×•×ª ××œ×” ×¢×•×–×¨×•×ª ×œ× ×• ×œ×”×‘×™×Ÿ ××™×š ×”××‘×§×¨×™× ××ª×§×©×¨×™× ×¢× ×”××ª×¨ ×©×œ× ×•.",linkedCategory:"analytics"},{title:"×¢×•×’×™×•×ª ×©×™×•×•×§×™×•×ª",description:"×¢×•×’×™×•×ª ××œ×” ××©××©×•×ª ×œ×”×¦×’×ª ×¤×¨×¡×•××•×ª ××•×ª×××•×ª ××™×©×™×ª.",linkedCategory:"marketing"}]}}}},guiOptions:{consentModal:{layout:"box",position:"bottom right",equalWeightButtons:!0,flipButtons:!1},preferencesModal:{layout:"box",equalWeightButtons:!0,flipButtons:!1}}}),"function"==typeof o.onChange&&o.onChange(function(e,t){t.includes("analytics")&&o.validConsent("analytics"),t.includes("marketing")&&o.validConsent("marketing")})}catch(e){}}"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",t),setTimeout(t,1e3)):"interactive"===document.readyState||"complete"===document.readyState?t():setTimeout(t,500),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("load",t,{once:!0})}(),window.onload=function(){try{window.micAccessTool=new MicAccessTool({buttonPosition:"left",forceLang:"he-IL",icon:{position:{bottom:{size:50,units:"px"},left:{size:20,units:"px"},type:"fixed"},backgroundColor:"transparent",color:"transparent",img:"accessible",circular:!1},menu:{dimensions:{width:{size:300,units:"px"},height:{size:"auto",units:"px"}}}})}catch(e){}document.addEventListener("keydown",function(e){var t=e.altKey||e.metaKey,o=65===e.keyCode||65===e.which||e.key&&("a"===e.key.toLowerCase()||"Ã¥"===e.key||"Ã…"===e.key);t&&o&&(window.innerWidth>768&&(e.preventDefault(),e.stopPropagation(),document.body.classList.contains("accessibility-widget-visible")?document.body.classList.remove("accessibility-widget-visible"):(document.body.classList.add("accessibility-widget-visible"),setTimeout(function(){var e=document.getElementById("mic-access-tool-general-button");e&&e.click()},200))))},!0)},function(){function e(){console.log("ğŸ“§ Zappy: Initializing contact form API integration...");const e=document.querySelector(".contact-form")||document.querySelector('form[action*="contact"]')||document.querySelector("form#contact")||document.querySelector("form#contactForm")||document.getElementById("contactForm")||document.querySelector("section.contact form")||document.querySelector("section#contact form")||document.querySelector("form");if(!e)return void console.log("âš ï¸ Zappy: No contact form found on page");console.log("âœ… Zappy: Contact form found:",e.className||e.id||"unnamed form");e.onsubmit;e.addEventListener("submit",async function(e){const t=new FormData(this),o=Object.fromEntries(t);try{console.log("ğŸ“§ Zappy: Sending contact form to backend API...");const e=await fetch("http://localhost:5001/api/email/contact-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({websiteId:"6fcfe26b-cd29-4a69-9df9-e2addd98c401",name:o.name||"",email:o.email||"",subject:o.subject||"Contact Form Submission",message:o.message||"",phone:o.phone||null})}),t=await e.json();t.success?console.log("âœ… Zappy: Contact form data sent successfully to backend"):console.log("âš ï¸ Zappy: Backend returned error:",t.error)}catch(e){console.error("âŒ Zappy: Failed to send to backend API:",e)}},!0),console.log("âœ… Zappy: Contact form API integration initialized")}window.zappyContactFormLoaded?console.log("ğŸ“§ Zappy contact form already loaded"):(window.zappyContactFormLoaded=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e())}();